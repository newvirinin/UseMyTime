# ✅ Чеклист перед деплоем на Railway

## Файлы конфигурации
- [x] `railway.toml` создан
- [x] `nixpacks.toml` создан
- [x] `Procfile` обновлен
- [x] `requirements.txt` содержит все зависимости
- [x] `.env.example` создан для примера

## Settings.py
- [x] `DEBUG` читается из переменной окружения
- [x] `SECRET_KEY` читается из переменной окружения
- [x] `ALLOWED_HOSTS` настроен динамически
- [x] `CSRF_TRUSTED_ORIGINS` настроен динамически
- [x] PostgreSQL настроен через переменные окружения
- [x] Whitenoise добавлен в MIDDLEWARE
- [x] STATICFILES_STORAGE настроен для Whitenoise

## Безопасность
- [ ] Сгенерирован новый SECRET_KEY для продакшена
- [ ] DEBUG=False в продакшене
- [ ] Проверены ALLOWED_HOSTS
- [ ] Проверены CSRF_TRUSTED_ORIGINS
- [ ] .env файл добавлен в .gitignore

## База данных
- [ ] PostgreSQL добавлен в Railway проект
- [ ] Переменные окружения БД настроены
- [ ] Миграции будут выполнены при деплое

## Статические файлы
- [x] Whitenoise установлен
- [x] STATIC_ROOT настроен
- [x] collectstatic выполняется в Procfile

## Медиа файлы
- [ ] Настроен внешний storage (AWS S3, Cloudinary) или
- [ ] Понимаете, что медиа файлы на Railway эфемерны

## Email (опционально)
- [ ] EMAIL_HOST настроен
- [ ] EMAIL_HOST_USER и PASSWORD добавлены в переменные
- [ ] Протестирована отправка email

## Тестирование
- [ ] Проект работает локально с PostgreSQL
- [ ] Все миграции применены
- [ ] Статические файлы собираются без ошибок
- [ ] Админка доступна

## После деплоя
- [ ] Создан суперпользователь
- [ ] Проверена работа сайта
- [ ] Проверена админка
- [ ] Проверены статические файлы
- [ ] Проверены логи на ошибки

## Мониторинг
- [ ] Настроены алерты в Railway (опционально)
- [ ] Добавлен мониторинг uptime (опционально)

---

## Команды для проверки

### Локально с PostgreSQL
```bash
cd UseMyTime
export DB_ENGINE=postgresql
export DB_NAME=usemytime
export DB_USER=postgres
export DB_PASSWORD=your_password
export DB_HOST=localhost
export DB_PORT=5432

python manage.py migrate
python manage.py collectstatic --no-input
python manage.py runserver
```

### На Railway
```bash
railway logs
railway run python UseMyTime/manage.py check --deploy
railway run python UseMyTime/manage.py migrate --check
```
